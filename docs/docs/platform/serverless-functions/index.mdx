---
title: 'Serverless Functions'
sidebar_position: 1
---

import Tabs from '@theme/Tabs'
import TabItem from '@theme/TabItem'

With Nhost, you can deploy Serverless Functions to execute custom code. Each serverless function is its HTTP endpoint.

Serverless functions can be used to handle [event triggers](/platform/database/event-triggers), form submission, integrations (e.g. Stripe, Slack, etc), and more.

---

## Creating a serverless function

Every `.js` (JavaScript) and `.ts` (TypeScript) file in the `functions/` folder of your Nhost app is its own serverless function.

<Tabs groupId="language">
  <TabItem value="ts" label="TypeScript" default>

```ts title=functions/hello/[name].ts
import { Request, Response } from 'express'

export default (req: Request, res: Response) => {
  res.status(200).send(`Hello ${req.query.name}!`)
}
```

:::info

You **MUST** install the `express` package locally for serverless functions to work.

```
npm install -d express @types/express
# or yarn
yarn add -d express @types/express
```

:::

  </TabItem>
  <TabItem value="js" label="JavaScript">

```js title=functions/hello/[name].js
export default (req, res) => {
  res.status(200).send(`Hello ${req.query.name}!`)
}
```

:::info

You **MUST** install the `express` package locally for serverless functions to work.

```
npm install -d express
# or yarn
yarn add -d express
```

:::

  </TabItem>
</Tabs>

---

## Routing

HTTP endpoints are automatically generated based on the file structure inside `functions/`.

Here's an example of four serverless functions:

```text
functions/index.js
functions/users/index.ts
functions/active.ts
functions/my-company.js
```

The following endpoints will be available:

- https://[app-subdomain].nhost.run/v1/functions/ from `functions/index.js`.
- https://[app-subdomain].nhost.run/v1/functions/users from `functions/users/index.ts`.
- https://[app-subdomain].nhost.run/v1/functions/users/active from `functions/users/active.ts`.
- https://[app-subdomain].nhost.run/v1/functions/my-company from `functions/my-company.js`.

---

## Environment Variables

[Environment variables](/platform/environment-variables) are available inside your serverless functions. Both in production and when running Nhost locally using the [Nhost CLI](/platform/cli).

## Billing

Serverless functions are billed per GB-sec or GB-hour. 1 GB-hour is 3600 GB-seconds.

1 GB-sec is 1 function with 1 GB of RAM running for 1 second. If 1 function with 1 GB of RAM runs for 3600 seconds, that's the equivalent of 1 GB-hour.

## Regions

Serverless Functions are always deployed to the same region as your app.
